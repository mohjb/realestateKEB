<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="myApp">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Real-Estate</title>
	<!--script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script-->
	<script src="../../../../angular-1.6.4/angular.js"></script>
	<script src="Report2.js"></script>
	<title>{{'AngularJS test:'+title}}</title>
</head>
<body dir="rtl" style="background-image:url(bg.jpg); background-repeat:repeat-x" ng-controller="myController">
 <table width="99%" ><tr>
	<td><img style="border:3px black double" src="kbu-logo.png"/></td>
	<td><h1>بيانات تداول العقار في دولة الكويت</h1></td>
	<td><img src="kisrlogo.gif"/></td></tr>
 </table>
	<form method="post" action="{{jspName}}">
		<table width="75%" border="0" align="center">
			<tr><th>من</th><th>الى</th>
				<th>متغيرات</th>
				<th>تفصيل</th>
				<th>نوع العقد</th>
				<th>محافظة</th>
				<th>نوع العقار</th>
				<td rowspan="2">
					<input type="hidden" name="stateEdit" value="{{!stateEdit}}" />
					<input type="submit" value="بحث" />
				</td>
			</tr>
			<tr >
				<td><select ng-model="from" ng-options="i for i in minmaxYears" ng-change="yrsChange()"></select></td>
				<td><select ng-model="to"	ng-options="i for i in minmaxYears" ng-change="yrsChange()"></select></td>

				<td>
					<div style="color:white;background-color:#3f8;border:2px solid green">
						<span ng-repeat="i in sttstcs.selected"
						>{{Statistics[i].lbl}}<a
							ng-if="i!=sttstcs.selected[0]" >⬆</a>
							<a ng-if="i==sttstcs.selected[sttstcs.selected.length-1]" >⬇</a><hr/>
						</span>
					</div>
					<div style="color:grey;background-color:#333;border:2px solid black">
						<span style="font-size:24px; font-weight: 24px"
							  ng-repeat="i in sttstcs.unselected">
						   <a >⬆</a>{{Statistics[i].lbl}}<hr/>
						</span>
					</div>
				</td>

				<td><select ng-model="term"	ng-options="i.lbl for i in terms" ng-change="yrsChange()"></select></td>

				<td><select ng-model="contract"	ng-options="i.str for i in contrcts" ng-change="yrsChange()"></select></td>

				<td >
					<select ng-model="gov"
						ng-options="i.lang.en for i in govs"
						></select></td>

				<td >
					<select ng-model="typ"
							ng-options="i.lang.en for i in typs"
					></select></td>
			</tr>
		</table>
	</form>
	<!--div> ng -controller="myController"
		<h1>{{jspName}}</h1>


		<span:{{to-from+1}} , term={{term}} : base={{term.base}}
		<span from={{from}} ng-repeat="i in yrs">[ {{i}}
	<span to={{to}} ng-repeat="j in timeline">
		( {{j}} )
	</span>
	]<br/>
</span>
	</div -->
	
	<hr/>
	<table border=1 rules="all">
		<tr>
			<th width="200px" rowspan="{{term.base==1?1:2}}">{{allGovs?"محافظة":"منطقة"}}</th>
			<th rowspan="{{term.base ==1 ?1:2}}" >وصف</th>
			<th ng-repeat="yr in yrs " colspan="{{term.base}}">{{yr}}</th>
		</tr>
		<tr ng-if="term.base!=1"><th ng-repeat="t in timeline ">{{t[1]}}</th></tr>
		<tr ng-repeat="series in data" ng-repeat="s in series.tbl">
			    <td ng-if="$index==0" rowspan="{{sttstcs.selected.length}}">{{series.ttl}}</td>
			    <td ng-if="$index==0">{{ Statistics[sttstcs.selected[$index]].lbl}}</td>
				<td ng-repeat="t in s">{{t}}</td>
		</tr>
	</table>


 <table border=1>
     <thead>
     <tr>
         <th rowspan="{{term.base==1?1:2}}">area</th>
         <th rowspan="{{term.base==1?1:2}}">sttstcs</th>
         <th ng-repeat="yr in yrs " colspan="{{term.base}}">{{yr}}</th>
     </tr>
     <tr ng-if="term.base!=1"><th ng-repeat="t in timeline ">{{t[1]}}</th></tr>
     </thead>
     <tbody ng-repeat="dtm in data">
     <tr ng-repeat="row in dtm.tbl">
         <th ng-if="$index==0" rowspan="{{dtm.tbl.length}}">{{dtm.ttl}}</th>
         <th >sttstc {{$index}}</th>
         <td ng-repeat="i in row" >{{i}} </td>
     </tr>
     </tbody>
 </table>

</body>
</html>
